(this["webpackJsonpproject-five"]=this["webpackJsonpproject-five"]||[]).push([[0],{24:function(e,t,a){e.exports=a(48)},29:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(21),i=a.n(l),s=(a(29),a(4)),o=a(2),d=a(3),u=a(6),c=a(5),m=a(11),b=a.n(m);a(30);b.a.initializeApp({apiKey:"AIzaSyCbCf_NllK9ML_D04soZXCQ9U7EoE1ZQaY",authDomain:"madlibs-app.firebaseapp.com",databaseURL:"https://madlibs-app.firebaseio.com",projectId:"madlibs-app",storageBucket:"madlibs-app.appspot.com",messagingSenderId:"1077558462525",appId:"1:1077558462525:web:fa7882737ab0b920e5c254"});var p=b.a,h=a(9),v=a.n(h),f=a(12),E=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleChange=function(t,a){var r=Object(s.a)(e.state.usersWords);r[t][a.target.name]=a.target.value,e.setState({usersWords:r})},e.state={prompts:[],usersWords:[]},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.database().ref("madlibData").on("value",(function(t){var a=t.val()[e.props.propPathing].userInputs,r=a.map((function(e){return Object(f.a)({},e.value,"")}));e.setState({prompts:a,usersWords:r})}))}},{key:"componentDidUpdate",value:function(e){var t=this;e.propPathing!==this.props.propPathing&&(this.setState({usersWords:[]}),p.database().ref("madlibData").on("value",(function(e){var a=e.val()[t.props.propPathing].userInputs,r=a.map((function(e){return Object(f.a)({},e.value,"")}));t.setState({prompts:a,usersWords:r})})))}},{key:"render",value:function(){var e=this;return n.a.createElement("form",{id:"madlibPrompts",className:"madlibPrompts",onSubmit:function(t){return e.props.propFormSubmit(t,e.state.usersWords)}},n.a.createElement("div",{className:"formContainer"},this.state.prompts.map((function(t,a){return n.a.createElement(r.Fragment,{key:a},n.a.createElement("label",{id:"input"+a,className:"input"+a},t.name),n.a.createElement("input",{type:"text",htmlFor:"input"+a,name:t.value,value:e.state.usersWords[a][t.value],onChange:function(t){return e.handleChange(a,t)},required:!0}))}))))}}]),a}(r.Component),y=a(22),k=a(23),S=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this))._isMounted=!1,e.handleLike=function(t){var a=t.target.dataset.id,r=p.database().ref("leaderboard"),n=Object(s.a)(e.state.leaderboard).filter((function(e){return e.id===a}));if(n&&n[0]){document.getElementById(a).disabled=!0,n[0].madlib.likes++,r.child(a).update(n[0].madlib)}},e.state={leaderboard:[],toggleLiked:!1},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,p.database().ref("leaderboard").on("value",(function(t){var a=t.val(),r=[];for(var n in a){var l={id:n,madlib:a[n]};r.push(l)}e.setState({leaderboard:r})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return n.a.createElement("section",{className:"leaderboard"},n.a.createElement("h2",null,"Leaderboard"),n.a.createElement("ul",{className:"leaderboardGrid"},this.state.leaderboard.map((function(t){return n.a.createElement("li",{key:t.id},n.a.createElement("div",{className:"header"},n.a.createElement("h3",null,t.madlib.title," by ",t.madlib.user),n.a.createElement("button",{id:t.id,"data-id":t.id,onClick:e.handleLike,"aria-label":"Click this button to like this Madlib"},n.a.createElement(y.a,{"data-id":t.id,icon:k.a})," ",t.madlib.likes)),n.a.createElement("p",null,v()(t.madlib.madlib)))}))))}}]),a}(r.Component),g=(a(47),function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleUserName=function(t){e.setState({userName:t.target.value})},e.handleErrors=function(e){return 0===e.filter((function(e){return""===e})).length},e.generateMadlib=function(t){var a=Object(s.a)(e.state.madlibTemplate).map((function(e,a){return e+"<span>"+t[a]+"</span>"}));0!==e.state.spillOver&&a.push(e.state.spillOver),e.setState({madlib:a.join("")})},e.handleFormSubmit=function(t,a){t.preventDefault();var r=a.map((function(e){for(var t in e)return e[t].trim();return!0}));""===e.state.userName&&e.setState({userName:"Anonymous"}),e.handleErrors(r)?(e.generateMadlib(r),e.setState({madlibCreated:!e.state.madlibCreated,hideInputs:!0})):alert("Oops! It looks like you missed a word. Make sure each prompt has a word buddy.")},e.handleSave=function(t,a){var r=p.database().ref("leaderboard"),n={madlib:t,title:e.state.title,user:e.state.userName,likes:0};!1===e.state.alreadySaved&&r.push(n),e.setState({alreadySaved:!0}),a.target.disabled=!0},e.handleRefresh=function(){e.setState({madlibCreated:!1,hideInputs:!1,alreadySaved:!1})},e.switchMadlib=function(t){window.confirm("If you switch Madlibs, you'll lose all your words! Are you sure?")&&e.setState({dbPath:t.target.value})},e.slideMenu=function(){e.setState({slideIn:!e.state.slideIn})},e.state={dbPath:"dentist",title:"",madlibTemplate:[],spillOver:"",madlib:"",userName:"",madlibCreated:!1,hideInputs:!1,alreadySaved:!1,restart:!1,slideIn:!1},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.database().ref("madlibData/"+this.state.dbPath).on("value",(function(t){e.setState({title:t.val().title,madlibTemplate:t.val().story,spillOver:t.val().spillOver})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;t.dbPath!==this.state.dbPath&&p.database().ref("madlibData/"+this.state.dbPath).on("value",(function(e){a.setState({title:e.val().title,madlibTemplate:e.val().story,spillOver:e.val().spillOver})}))}},{key:"render",value:function(){var e=this;return n.a.createElement(r.Fragment,null,n.a.createElement("header",{className:"wrapper"},n.a.createElement("h1",null,this.state.title),n.a.createElement("div",{className:"userName"},n.a.createElement("label",{htmlFor:"userName","aria-label":"Enter your pen name here"},"by"),n.a.createElement("input",{onChange:this.handleUserName,type:"text",id:"userName",placeholder:"YOUR NAME HERE",value:this.state.userName,required:!0})),n.a.createElement("p",null,this.state.madlibCreated?"Great job! If you like what you've done, Save it to our leaderboard. Or you can Go Back and try again.":"The best part about Madlibs is that it's always a surprise! Write in the silly words below and Get Started!"),n.a.createElement("div",{onClick:this.slideMenu,className:"madlibChoices"+(this.state.hideInputs?" hidden":"")+(this.state.slideIn?" slideIn":"")},n.a.createElement("button",{onClick:function(t){return e.switchMadlib(t)},value:"dentist","aria-label":"Click here to choose the Dentist Madlib"},"A Visit to the Dentist"),n.a.createElement("button",{onClick:function(t){return e.switchMadlib(t)},value:"pirate","aria-label":"Click here to choose the Pirate Madlib"},"Talk like a Pirate!"))),n.a.createElement("main",{className:"wrapper"},this.state.hideInputs?null:n.a.createElement(E,{propFormSubmit:this.handleFormSubmit,propPathing:this.state.dbPath}),this.state.madlibCreated?n.a.createElement("section",{className:"madlibResult"},n.a.createElement("h2",null,"Here's your Madlib!"),n.a.createElement("p",null,v()(this.state.madlib))):null,n.a.createElement("section",{className:"buttonNav"},this.state.madlibCreated?null:n.a.createElement("button",{type:"submit",form:"madlibPrompts","aria-label":"This button will create your Madlib"},"Get Started!"),this.state.hideInputs?n.a.createElement(r.Fragment,null,n.a.createElement("button",{className:"saveButton",onClick:function(t){return e.handleSave(e.state.madlib,t)}},this.state.alreadySaved?"Saved!":"Save Madlib!"),n.a.createElement("button",{onClick:this.handleRefresh,title:"This will reset your words","aria-label":"This will also reset your words"},"Back to Start")):null),this.state.madlibCreated?n.a.createElement(S,null):null),n.a.createElement("footer",{className:"wrapper"},n.a.createElement("p",null,"Created by Philip Turkiewicz 2020")))}}]),a}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.1d870f84.chunk.js.map